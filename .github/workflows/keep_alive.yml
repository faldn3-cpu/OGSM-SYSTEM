name: Wake Up Streamlit

on:
  schedule:
    # 說明：UTC 23:00 對應台灣時間早上 07:00
    # 設定為：UTC 23:00 到 11:00 (台灣 07:00 ~ 19:00)，每小時的 30 分執行一次
    # 這樣只在台灣的「上班時間」喚醒，節省資源
    - cron: "30 23-11 * * *"
  workflow_dispatch: # 允許手動執行測試

jobs:
  wake-up:
    runs-on: ubuntu-latest
    steps:
      - name: Send Wake Up Signal
        # 使用 curl 發送請求，並帶上參數 ?wake_up=true
        # 這會觸發 app.py 中的 Early Exit 機制，不消耗 API 配額
        run: curl https://seecfa-ogsm-system.streamlit.app/?wake_up=true
