name: Wake Up

on:
  schedule:
    # 台灣時間 07:00 ~ 19:00，每 20 分鐘喚醒一次
    - cron: '*/20 23-11 * * *'
  workflow_dispatch:

jobs:
  ping:
    runs-on: ubuntu-latest
    steps:
      - name: Ping with Timeout
        # 1. 加入雙引號 "..." 避免格式錯誤
        # 2. --max-time 45：設定最長等待 45 秒 (配合我們 Python 的 30 秒)
        run: curl --max-time 45 -L -A "Mozilla/5.0" "https://seecfa-ogsm-system.streamlit.app/?wake_up=true"
