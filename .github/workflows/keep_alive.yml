name: Keep Streamlit Alive

on:
  schedule:
    # è¨­å®šæ¯å¤©æ—©ä¸Š 8:00 (UTC 0:00) åŸ·è¡Œä¸€æ¬¡
    - cron: "0 0 * * *"
  workflow_dispatch: # å…è¨±æ‚¨åœ¨ GitHub ä»‹é¢ä¸Šæ‰‹å‹•æŒ‰æŒ‰éˆ•æ¸¬è©¦

permissions:
  contents: write  # <--- é€™è¡Œå°±æ˜¯é—œéµï¼Œçµ¦äºˆå¯«å…¥æ¬Šé™ï¼Œä¸ç”¨å¯†ç¢¼

jobs:
  keep-alive:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repo
        uses: actions/checkout@v3

      - name: Empty Commit
        run: |
          # é€™è£¡è¨­å®šæ©Ÿå™¨äººçš„å‡èº«ä»½ï¼Œä¸éœ€è¦çœŸå¯¦å¸³è™Ÿ
          git config --local user.email "action@github.com"
          git config --local user.name "GitHub Action"
          # æäº¤ä¸€å€‹ç©ºæ›´æ–°
          git commit --allow-empty -m "ğŸ’ª Keep Alive: Prevent Streamlit Sleep"
          # æ¨é€å› GitHub
          git push
